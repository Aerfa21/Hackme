# Hackme
Hackme is a network security answer platform，Hackme网络安全答题平台

sec 为第一个版本，大家多多支持。

由于之前写的时候是用于网络安全知识普及性质的线下赛，所以有些内容不适合线上CTF，需要一些修改。

以后有时间再改啦，相信你们自己能改也能写，哈哈。
![答题页面](http://img-storage.qiniudn.com/15-11-4/23640047.jpg)
![排行榜](http://img-storage.qiniudn.com/15-11-4/53385258.jpg)



# 1、使用前先配置好OT数据库。

配置文件的位置为Application\Common\Conf\config.php

/* 默认数据库配置为如下所示，按实际情况修改 */
'DB_TYPE'   => 'mysql', // 数据库类型
'DB_HOST'   => '127.0.0.1', // 服务器地址
'DB_NAME'   => 'ot', // 数据库名
'DB_USER'   => 'root', // 用户名
'DB_PWD'    => 'root',  // 密码
'DB_PORT'   => '3306', // 端口
'DB_PREFIX' => 'onethink_', // 数据库表前缀

---------------------------------------------------------------------------------------------------------------------------------

# 2、因为OneThink整合了UCenter，所以还需要修改Application\User\Conf\config.php中的DSN

define('UC_DB_DSN', 'mysql://root:root@127.0.0.1:3306/ot'); // 此处根据实际情况修改

---------------------------------------------------------------------------------------------------------------------------------

# 3、最好把Runtime目录下Cache里的东西都删了，重新生成缓存文件

---------------------------------------------------------------------------------------------------------------------------------

# 4、配置好了，导入数据库到MySQL

新建一个名字叫ot的数据库

phpmyadmin下把ot-new.sql导入到这个新建的ot数据库就可以了

mysql-cli下create好了ot数据库后使用source导入ot-new.sql

---------------------------------------------------------------------------------------------------------------------------------

# 5、默认账号密码

如果数据库导入没有问题，以前的账号可以直接在数据库里查看到haha、mama、测试、王二小、Gecco，密码均为asdasd

---------------------------------------------------------------------------------------------------------------------------------

# 6、根目录下相关文件、文件夹说明

admin.php文件                 OneThink后台入口文件

result.php文件                查看答题积分实时排行榜------在文件名后加get参数才能查看，mydomain.com/result.php?pwd=hackme

check.php文件                 ajax答题检测相关

conn.php文件                  数据库连接通用文件

record.php文件                提交答题文件

question文件夹                里面存放答题涉及的相关hack页面及资源


由于OneThink基于ThinkPHP框架，而框架本身可能存在漏洞影响答题，故在使用OneThink的内容管理及用户认证系统的基础上，使用原生PHP进行核心书写，未使用TP或OT语法。

---------------------------------------------------------------------------------------------------------------------------------

# 7、答题卡、题目、答案的设置

遵循ThinkPHP的MVC，本平台缺点是直接把题目写死在代码上了，题目在View层Application\Home\View\default\Article目录下的相应文件代码中

答题卡在Application\Home\View\default\Public\header.html

答案在登录成功后会初始化保存在SESSION中方便后续比对，避免频繁的SQL操作比对，登录动作在Application\Home\Controller目录下的User控制器中

正确答案：B;D;B;A;C;B;D;C;C;D;B;A;D;A;D;C;A;B;C;B-----xiaohuagogo!-----1241157283106-----.asp/-----info4thisgame-----comegamepoint











